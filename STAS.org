#+title: Requerimientos STAS
#+author: Pedro Bustos <pedro.bustos@andessalud.cl>
#+OPTIONS: ^:nil

* Notas
** VPN
   4X8sG88873
** VUE
   En watch para vigilar un valor dentro de un objeto usar comillas para encerralo
   #+BEGIN_SRC javascript
   watch: {
    'parentObject.property': function(value){
      // WORK HERE
    },
   },
   #+END_SRC
** DB
IP : 192.168.100.53

BD: CLINIWIN

Usuario: STAS_PB

Password: ST4$_PB,2023

* Requerimentos

** DONE requerimiento ley urgencia hospitalizado [3/3]
DEADLINE: <2023-03-20 lun> SCHEDULED: <2023-03-16 jue>
*** DONE tabla HCU_LEY_URGENCIA [6/6]
  - [X] PAC_NUMFICHA_URG numeric 10
  - [X] PAC_NUMFICHA_HOSP numeric 10 null
  - [X] ING_CORREL_URG numeric 4
  - [X] ING_CORREL_HOSP numeric 4 null
  - [X] PTD_RUT char 10 null
  - [X] HLU_FEC_LEY_URG datetime null

*** DONE Eliminar cambios anteriores ley urgencia [3/3]
- [X] tabla ATENCION
- [X] spu_adm_obtener_atencion (pb)
- [X] spu_adm_guardar_atencion (pb)

*** DONE Componente ley urgencia hospitalizado [0/0]
- [X] guardar ingreso en hospitalizado debe verificar si paciente es ley urg
- [X] si paciente es ley urg se debe guardar pacnumficha e ingcorrel de hosp en HCU_LEY_URGENCIA
- [X] componente ley urgencia [2/2]
  + [X] Buscar en HCU_LEY_URGENCIA si paciente registra
  + [X] si registra muestra alert con fecha de registro

**** Lista de modificaciones
- API
  + AdimisionHospitalaria
  + Urgencia
- WEB
  + Urgencia
  + Clinica
- DB
  + HCU_LEY_URGENCIA C
  + spu_adm_registro_ley_urg C
  + spu_adm_obtener_pac_ley_urg C .
  + spu_fcu_guardar_atencion M
  + spu_fcu_obtener_atencion M

** DONE requerimiento suspender indicación hospitalizado [5/5]
DEADLINE: <2023-03-22 miÃ©> SCHEDULED: <2023-03-21 mar>
- [X] campo requiere kine debe ser required y tener opciones "si/no"
- [X] eliminar fecha hasta de vista/sp/tabla
- [X] al firmar debe verificar si campo kine true para agregar a lista kine
- [X] editar tabla HCH_PROCEDIMIENTO_MEDICO [2/2]
  + [X] HPM_ESTADO_PROCEDIMIENTO char 1 null (s = suspendido)
  + [X] HPM_FEC_ESTADO datetime null
- [X] agregar suspender indicación [3/3]
  + [X] agregar marca en objeto/db/sp/api para identificar suspendido
  + [X] si es suspendido debe mostrar alert 'Indicación suspendida el {fecha}'
  + [X] si se suspende con kine = true eliminar de lista kine
**** Lista de modificaciones
- API
  + FichaClinicaHospitalizado
- WEB
  + Clinica
- DB
  + HCH_PROCEDIMIENTO_MEDICO M
  + spu_fch_kine_obtener_pacientes_kinesioterapia M
  + spu_fch_guardar_procedimiento_medico M
  + spu_fch_obtener_procedimiento_medico M
  + spu_fch_anular_indicacion_procedimiento C

** DONE requerimiento rehabilitacion [2/2]
DEADLINE: <2023-03-23 jue> SCHEDULED: <2023-03-23 jue>
- [X] En vista kinesiologo, menu registro rehab [4/4]
  + [X] ocultar motivo de consulta
  + [X] agregar valor "otro" a escalas
    + Modificar tabla FRE_ESCALAS insert campo "otros"
  + [X] agregar campo invisible y required si hay escala elegida de texto libre "resultado escalas evaluadas"
    + Modificar tabla FCH_REHABILITACION nueva columna FRE_RES_ESCALA_EVAL varchar 1000 null desc 'Resultado de la escala evaluada'
  + [X] al marcar alugna escala debe aparecer campo "resultado escalas evaluadas"
- [X] Agregar campos en vue/sp/api/db para resultado escalas evaluadas
**** Lista de modificaciones
- API
  + FichaClinicaHospitalizado
- WEB
  + Clinica
- DB
  + FRE_ESCALAS M
    - INSERT INTO FRE_ESCALAS (FES_CORREL, FES_ESCALA, FES_VIGENTE) VALUES (5, 'OTROS', 'S')
  + FCH_REHABILITACION M
    - ALTER TABLE FCH_REHABILITACION ADD FRE_RES_ESCALA_EVAL varchar(1000)
  + spu_fch_kine_guardar_atencion M
  + spu_fch_kine_obtener_atencion M

** DONE requerimiento ficha rehabilitacion ambulatoria[11/11]
SCHEDULED: <2023-03-24 vie>
- [X] Agregar marca si es primera sesión
- [X] Ocultar motivo consulta
- [X] agregar valor "otro" a escalas
- [X] agregar campo invisible y required si hay escala seleccionada "resultado escalas evaluadas"
- [X] al marcar escala mostrar campo "resultado escalas evaluadas"
- [X] Agregar campos en vue/sp/api/db para resultado escalas evaluadas
  - spu_fca_kine_guardar_sesion_rehabilitacion
  - spu_fca_kine_listar_sesion_rehabilitacion
  - spu_fca_kine_actualizar_sesion_rehabilitacion
- boton finalizar tratamiento cierra todas las sesiones
- [X] Finalizar tratamiento finaliza sesion actual
- [X] en lista de pacientes "atender" revisa si es kine > atencion kine, de lo contrario atencion medico
- [X] primera sesion marca desde vue, valor dinamico en API
- [X] dejar boton de si/no para primera sesion en vue
- [X] lista de escalas separar con "," como en hospitalizado
**** Lista de modificaciones
- API
  + FichaClinicaAmbulatoria
- WEB
  + Ambulatorio
- DB
  + spu_fca_kine_guardar_sesion_rehabilitacion M
  + spu_fca_kine_listar_sesion_rehabilitacion M
  + spu_fca_kine_actualizar_sesion_rehabilitacion M
  + FRE_SESION_REHAB M
    - ALTER TABLE FRE_SESION_REHAB ADD FSR_RES_ESCALA_EVAL varchar(1000)
- GIT
  - feature-cambios-ficha-rehabilitacion


** DONE requerimento historial paciente
- historial paciente componente
- historial componente detalle

*** Lista detalles encontrados en fase QA [8/8]
- [X] En ver detalle cuadro resumen sesiones terapeuticas fecha al final  "invalid date"
- [X] campos no se bloquean al firmar atencion
- [X] al cambiar ingreso sigue apareciendo como firmado
  - Tenia que limpiar datos al cambiar ingreso en funcion cargarKinesiologia al usar "rowDblClickedIngreso"
- [X] Prestador no puede guardar ni Firmar si no es quien atiende
- [X] Required solo si es primera sesion
- [X] Firmar sesion guarda nueva sesion
  - Firmaba sesion con datos vacios ya que correl de sesion estaba vacio, faltaba mantener editando sesion actual para no perder correl
- [X] Al cargar sesion debe tomar datos automaticamente para poder seguir editando
- [X] al seleccionar una escala, guardarla y luego quitarla y guardar, no se puede volver a guardar
  - limpiar bien los datos antes de funcion editar


** DONE Requerimiento ENO tres proyectos [7/7]
<2023-04-06 Thu> Termino
- [X] Enfermedad > Diagnóstico ENO
- [X] Diagnostico alta eliminar de vista, api y sp
- [X] Identificar servicio de proveniencia del diagnostico ENO
- [X] en tabla ENO agregar boton para llevar a atención del paciente
- [X] en cada proyecto modificar buscar paciente para revisar marca desde store, si la encuentra utilizar datos de store para buscar paciente [3/3]
  - [X] Ambulatorio
  - [X] Urgencia
  - [X] Hospitalizado
- [X] En tabla ENO agregar columna servicio paciente
- [X] Agregar dato Servicio paciente en SP y API

** DONE Nueva Vista Otros profesionales Urgencia [9/9]
- [X] Crear Menu Otros Profesionales
- [X] Layout como en evolución Médica de hospitalizado
- [X] Crear Tabla URGENCIA_OTROS_PROFESIONALES [7/7]
  - [X] PAC_NUMFICHA numeric 10 not null
  - [X] ING_CORREL numeric 4 not null
  - [X] PTD_RUT char 10  null
  - [X] UOP_CORREL numeric 18 not null
  - [X] UOP_EVOLUCION varchar 1000 null
  - [X] UOP_FECHA_REG datetime null
  - [X] USU_LOGIN_CREA varchar 50 null
- [X] sp para guardar atencion otros profesionales
- [X] api para guardar atencion otros profesionales
  - tomar de ejemplo hospitalizado como guarda evolucion medica
    - NO OLVIDAR REGISTRAR REPOSITORY EN STARTUP
- [X] Error 500 al pedir evoluciones, pedir revisar api
- [X] Routes no deja entrar a vista otros profesionales, seguramente por falta permisos en DB
- [X] PENDIENTE Agregar funcion para firmar cada evolucion
  - Se crea funcion para firmar todas las evoluciones a nombre del prestador
- [X] Fix vista historial paciente
  - tomar vista alergias de hospitalizado y cambiar col-3 -> col-2 y col-7 -> col-8 en vista ppal
*** Cambios realizados
:PROPERTIES:
:ID:       bc204550-f762-4522-b761-956c20a90958
:END:
- WEB
  + Urgencia
- API
  + Urgencia
  + Common.Models
- DB
  + URGENCIA_OTROS_PROFESIONALES [[Vista Otros profesionales para clinica][CAMBIADO]]
    - script guardado en sqlbkp
  + MENU M
    - INSERT INTO MENU (MEN_CODIGO, MEN_NOMBRE, MEN_CODIGO_MEN, MEN_HREF, MEN_EXTERNO, ASU_CODIGO, MEN_ICON) VALUES (217, 'Otros Profesionales', 120, 7, '/otros-profesionales', 0, 4, NULL)
  + spu_adm_obtener_alergias M
    - formatear fecha para obtener hora con HH:mm
  + spu_fcu_guardar_evolucion_otros_profesionales [[Vista Otros profesionales para clinica][CAMBIADO]]
  + spu_fcu_obtener_evolucion_otros_profesionales [[Vista Otros profesionales para clinica][CAMBIADO]]

** DONE OTROS [2/2]
- [X] En urgencia revisar si es enfermera o es tens al hacer doble click en mapa cama
- [X] si es auditor enviar a atencion medico
** DONE Historial paciente en Urgencia [3/3]
- [X] Pasar componente
- [X] verificar que componente sea con filtro kine
- [X] arreglar visual componente

** DONE Notificacion GES [2/2]
- [X] Revisar problema de insert y retomar flujo
- [X] Hacer que notificacion GES utilizce tabla NOTIFICACION_PATOLOGIA_GES
*** Lista de cambios
- DB
  - CREATE TABLE NOTIFICACION_PATOLOGIA_GES C
  - INSERT NOTIFICACION_PATOLOGIA_GES SELECT FROM NOTIFICACION_GES C
  - spu_fcu_eliminar_notificacion_ges M
  - spu_fcu_guardar_notificacion_ges M
  - spu_fcu_inf_constancia_ges M
  - spu_fcu_listar_notificaciones M
  - spu_fcu_obtener_notificacion_ges M

** DONE Bugs encontrados [5/5]
- [X] Historial Esi error dato
  - Tenia error al intentar enviar lista vacia, se agrega verificacion de length
- [X] Categorizacion
  - error de sp verificaba si HE_CORREL IS NULL en lugar incorrecto, se quita
- [X] En urgencia atencion al ingresar anamnesis e hip diagnostica y guardar sin marcar ley urg da error al intentar insertar datos vacios
- [X] En urgencia atencion se guarda duplicado la anamnesis e hip diagnostica
- [X] En Clinica no deja ingresar texto complementario en epicrisis

** DONE Firmar enfermera [5/5]
- [X] Firmar evoluciones a nombre enfermera, como en otros profesionales
- [X] En vue enviar todas las evoluciones que correspondan al usuLogin
- [X] en API agregar campo bool para comprobar si evolucion esta firmada
- [X] en SP verificar si atencion está firmada y si es asi insertar fecha en campo fecha fin evolucion
- [X] en DB agregar columna fecha fin evolucion en tabla que corresponda
  - ALTER TABLE REG_PROCED_ENFERMERIA ADD RPE_FECHA_FIN_EVO DATETIME

*** Lista de cambios
- API
  + Urgencia
  + Common.Models
- WEB
  + Urgencia
- DB
  + spu_fcu_guardar_procedimiento_enfermeria
  + spu_fcu_obtener_procedimiento_enfermeria
  + REG_PROCED_ENFERMERIA M
    - ALTER TABLE REG_PROCED_ENFERMERIA ADD RPE_FECHA_FIN_EVO DATETIME
    - Trigger: val_reg_proced_enfermeria_upd

** DONE Vista Otros profesionales para clinica [5/5]
- [X] Tomar template de vista nutri
- [X] modificar tabla URGENCIA_OTROS_PROFESIONALES [3/3]
  + [X] Nuevo nombre: HC_OTROS_PROFESIONALES
  + [X] Campos de UOP a HOP
  + [X] nueva columna SER_CODIGO varchar 3
- [X] Modificar otros profesionales urgencia [9/9]
  + [X] Vue: Cambiar nombres de propiedades uop -> hop
  + [X] Vue: Agregar a objeto serCodigo
  + [X] Api: Agregar a DTO SerCodigo string
  + [X] Api: Cambiar nombres de propiedades Uop -> Hop
  + [X] SP: Cambiar nombre tabla URGENCIA_OTROS_PROFESIONALES -> HC_OTROS_PROFESIONALES
  + [X] SP: Campos de UOP a HOP
  + [X] SP: Agregar al obtener SER_CODIGO
  + [X] SP: Agregar al guardar SER_CODIGO
  + [X] Ver opcion de dejar sp globales en lugar de solo para urgencia
    - spu_gen_guardar_evolucion_otros_profesionales
    - spu_gen_obtener_evolucion_otros_profesionales
- [X] En vue asegurar objeto tenga propiedades necesarias para api
- [X] En api construir DTO controller y repository con template urgencia otros profesionales

*** Lista de cambios
- WEB
  + Urgencia M
    - atencion-otros-profesionales M
  + Clinica M
    - atencion-otres-profesionales C
- API
  + Urgencia M
    - EvolucionOtrosProfesionalesDTO M
    - OtrosProfesionalesRepository M
  + FichaClinicaHospitalizado M
    - OtrosProfesionalesCotroller C
    - OtrosProfesionalesRepository C
    - EvolucionOtrosProfesionalesDTO C
- DB
  + HC_OTROS_PROFESIONALES C/M cambiado de URGENCIA_OTROS_PROFESIONALES y se añade columna SER_CODIGO
  + spu_gen_guardar_evolucion_otros_profesionales M/C cambiado nombre fcu y ajustado a nuevo req
  + spu_gen_obtener_evolucion_otros_profesionales M/C cambiado nombre fcu y ajustado a nuevo req

    duda: insert en MENU otros profresionales para URG debe ir en carpeta urgencia?
    en guardar_categorizacion se encuentra tabla Signos_vitales_esi. Tabla tiene pocos datos, no recuerdo de donde sale
    si se usa porque ahi guarda la relacion respecto a qué ESI corresponde el signo vital guardado

** DONE Agregar visor clinico a urgencia y hospitalizado [5/5]
- [X] Copiar desde ambulatorio
- [X] cambios en store
- [X] Agregar endpoint en global
- [X] En urgencia sólo en vistas médico [2/2]
  - [X] Atencion
  - [X] Atencion Especialista
- [X] En clinica sólo en evolución médica
- Pasos para agregar visor clinico
  1. Agregar getEsVisorClinico a store
  2. Agregar endpoint VisorClinico a service/global.js
  3. agregar botón Visor Clínico
  4. agregar imports
     a. import VisorClinico from global
     b. import VueCryptoJs from vue-cryptojs
     c. vue.use(vuecryptojs)
  5. agregar llamada a endpoint en created()
  6. agregar método openVisorClinico

*** Pruebas Proceso Urgencia
- En atencion se guarda al estar vacío. Correcto?
- En medicamento no deja elegir cada X Días, sólo deja elegir cada X veces
- En atencion especialista Médico puede guardar.
- En atencion especialista historial paciente duplicado
- En atencion enfermeria médico puede guardar y agregar procedimientos enf

*** Pruebas Proceso Hospitalizado
- Error al imprimir epicrisis, falla en reporte
- Al seleccionar todo, no borra evoluciones, si los selecciono uno a uno se borran
- En mapa cama revisar los perfiles "otros profesionales" para redireccionar a vista otros-profesionales

** DONE Requerimiento traspasar cargos urgencia a hospitalizado [2/2]
- [X] En VUE [3/3]
  - [X] Agregar parametro orgien a ficha
  - [X] Utilizar parametro local origen para verificar orgien paciente es URG
  - [X] Limpiar datos debe limpiar parametro origen
- [X] En API [2/2]
  - [X] Debe usar sp traspaso cargo si origen es URG
  - [X] Debe enviar como parametro bool TraspasarCargos

*** Lista de modificaciones
- VUE
  - Cliinca
    - Admision M
- API
  - AdmisionHospitalaria
    - AdmisionRepository M
- DB
  - N/A

** DONE Requerimiento Informes Medico Auditor Ambulatorio [2/2]
- [X] Crear rama a partir de Master
- [X] Dejar que boton informes medicos pueda usarlo Auditor
  - se quita disabled
*** Lista de cambios
- VUE
  - ambulatorio
    - registro-atencion M
- API
  - N/A
- DB
  - N/A
- GIT
  - feature-auditor-informes-medicos C


** DONE Requerimento informes medico Kine Ambulatorio [2/2]
- [X] Utilizar rama feature-cambios-ficha-rehabilitacion ( Cambios de esa rama [[requerimiento ficha rehabilitacion ambulatoria][aqui]] )
- [X] Agregar botón informes medicos en vista Kine
  - NOTA: Historial paciente no presente en feature-ficha-rehabilitacion, estan en feature-historial-paciente-kine. Conusltar si hacer merge a ambas
*** Lista de cambios
- VUE
  - kinesiologosM
- API
  - N/A
- DB
  - N/A
- GIT
  - feature-cambios-ficha-rehabilitacion M

** DONE Requerimiento gestion GES [4/4]
SCHEDULED: <2023-05-22 lun>
- [X] Agregar en todas los proyectos una vista para gestionar notificaciones GES [3/3]
  - [X] ambulatorio feature desde rama master
  - [X] urgencia feature desde qa
  - [X] clinica feature desde qa
- [X] La vista debe ser una tabla con la lista de pacientes de GES del último mes
- [X] se debe poder buscar por rut y fecha (tomar ejemplo vista ENO) [2/2]
  - [X] Rut
  - [X] Fecha
- [X] Listado (Vuetable) [9/9]
  - [X] Rut
  - [X] Paciente
  - [X] Ficha
  - [X] Ingreso
  - [X] Fecha Notificacion
  - [X] Diagnostico
  - [X] Patologia
  - [X] Medico
  - [X] Imprimir
*** Lista de cambios
- WEB
  - Clinica
    - gestion-ges C
    - helper/global M
    - routes M
  - Urgencia
    - gestion-ges C
    - helper/global M
    - routes M
  - Ambulatorio
    - gestion-ges C
    - helper/global M
    - routes M

- API
  - Global M
    - notificacionController M
    - notificacionRepository M
    - Common.Models M
- DB
  - INSERT INTO MENU para los tres proyectos M
  - spu_fce_ges_listar_notificaciones C
- GIT
  - Clinica
    - feature-gestion-ges C (desde QA)
  - Urgencia
    - feature-gestion-ges C (desde QA)
  - Ambulatorio
    - feature-gestion-ges C (desde master)

| Buscar  | Por Rut paciente         |       |         |                    |             |           |        |                  |
|         | Por Fecha                |       |         |                    |             |           |        |                  |
|         | Por Rut paciente y Fecha |       |         |                    |             |           |        |                  |
|         |                          |       |         |                    |             |           |        |                  |
| Flitrar | Por Rut Prestador        |       |         |                    |             |           |        |                  |
|         |                          |       |         |                    |             |           |        |                  |
| Rut     | Paciente                 | Ficha | Ingreso | Fecha Notificacion | Diagnostico | Patologia | Medico | Imprimir (Boton) |
|         |                          |       |         |                    |             |           |        |                  |
|         |                          |       |         |                    |             |           |        |                  |

** DONE Requerimiento Epicrisis Enfermeria [6/6]
<2023-05-25 jue>
- [X] Crear vista en Clinica para epicrisis enfermeria
- [X] Utilizar de template documento epicrisis CASC para realizar vista
- [X] Definir modelo de datos
- [X] Realizar API y SP [3/3]
  - [X] En API FichaClinicaHospitalizado crear endponint [4/4]
    - [X] Crear nuevo controller EpicrisisEnfermeriaController [3/3]
      - [X] Crear Endpoint para obtener datos del paciente
      - [X] Crear Endpoint para guardar datos del paciente
      - [X] Debe haber Endpoint para imprimir [2/2]
        - [X] Igresar parametros necesarios en endpoint
        - [X] Ingresar la ruta correcta en app settings
    - [X] Crear nuevo repository EpicrisisEnfermeriaRepository [2/2]
      - [X] Crear método para obtener datos
      - [X] Crear método para guardar datos
    - [X] Crear nuevo DTO EpicrisisEnfermeriaDTO
    - [X] Registrar repository en startup
  - [X] Crear SP para obtener datos
  - [X] Crear SP para guardar datos

- [X] Conectar Vista con API [5/5]
  - [X] Crear objeto epicrisisEnfermeria con los datos necesarios, llenar las variables con los datos existentes obtenidos desde otros endpoint
  - [X] Agregar nombre representante / si es mismo paciente
  - [X] En created buscar paciente si esta en store
  - [X] Datos de diagnostico ingreso / egreso faltan en vista, revisar como obtener datos egreso y revisar si epicrisis medica esta lista
  - [X] Boton Imprimir no puede usarse si no hay epicrisis médica y no se puede ver si no se firma epicrisis ENF
- [X] Crear Tabla para Epicrisis Enfermeria
  - HEE_CORRELL  NUMERIC(10)
  - PAC_CORREL NUMERIC(10) FK PACIENTE
  - MAL_CODIGO NUMERIC(3) FK MOTIVO_ALTA
  - PAC_NUMFICHA NUMERIC(10) FK INGRESO
  - ING_CORREL NUMERIC(4) FK INGRESO
  - USU_LOGIN VARCHAR(30) FK AM_USUARIO
  - HEE_EVOLUCION_ENF VARCHAR(3000) NULL
  - HEE_EX_RESULTADO_PENDIENTE VARCHAR(3000) NULL
  - HEE_INDICACIONES_MEDICAS VARCHAR(3000) NULL
  - HEE_EDUCACION_ALTA VARCHAR (3000) NULL
  - HEE_REGIMEN_NUTRI CHAR(1)
  - HEE_EEG CHAR(1)
  - HEE_ECG CHAR(1)
  - HEE_CULTIVOS CHAR(1)
  - HEE_BIOPSIA CHAR(1)
  - HEE_RADIOGRAFIAS CHAR(1)
  - HEE_TAC CHAR(1)
  - HEE_EX_LABORATORIO CHAR(1)
  - HEE_EPICRISIS_MEDICA CHAR(1)
  - HEE_RECETA CHAR(1)
  - HEE_TERMOMETRO CHAR(1)
  - HEE_PROTESIS_ORTESIS_LENTES CHAR(1)
  - HEE_ECOGRAFIA CHAR(1)
  - HEE_OTROS VARCHAR(3000) NULL
  - HEE_REPRESENTANTE CHAR(1)
  - HEE_NOMBRE_REPRESENTANTE VARCHAR(500) NULL

** DONE Requerimiento modificaciones GES [3/3]
SCHEDULED: <2023-06-13 mar>
- [X] Nuevo filtro con notificados GES y NO notificados GES [4/4]
  - [X] si no tiene patologia (no ha sido notificado) no se debe imprimir
  - [X] Filtrar por notificados y no notificados en SP
  - [X] Añadir nuevo parametro flitro a API
  - [X] Agregar en VUE nuevo filtro al llamar a endpoint
- [X] Casos prueba [3/3]
  - casos hechos con ficha 235209
  - [X] Paciente con diagnostico que no es GES, no debe listarse
  - [X] Paciente diagnosticado GES, pero no notificado, debe aparecer en filtro no notificado, no se debe imprimir
  - [X] Paciente diagnosticado GES y notificado, aparecer en lista por defecto y se debe poder imprimir
- [X] contador de filas
*** Cambios realizados
- WEB
  - Ambulatorio
    - gestion-ges.vue C
    - routes.js M
  - Urgencia
    - gestion-ges.vue M
    - global.js M
  - Clinica
    - gestion-ges.vue M
    - global.js M
- API
  - Global
    - NotificacionGesController M
    - NotificacionGesRepository M
    - NotificacionGesDTO M
- DB
  - spu_fce_ges_listar_notificaciones
  - INSERT INTO MENU Gestion GES
- GIT
  - Ambulatorio
    - feature-gestion-ges M
  - Urgencia
    - feature-gestion-ges M
  - Clinica
    - feature-gestion-ges M
      <2023-08-02 Wed> Cambios para modificar los otros proyectos

** DONE Requerimiento vista examenes para rehabilitacion [3/3]
- [X] Implementar tab examenes laboratorio
- [X] Implementar tab examenes Imagenologia
- [X] Merge con rama historial para centralizar cambios
*** Cambios realizados
- WEB
  - Ambulatorio
    - kinesiologo.vue M

** DONE Requerimiento gestion ley urgencia [1/1]
<2023-06-07 Wed>
- [X] Crear SP para obtener datos de pacientes notificados con Ley Urgencia y poder filtrar por fecha y paciente / prestador
- [X] Crear endpoint en API para rescatar la info entregada por sp [3/3]
  - [X] Crear DTO
    - GestionLeyUrgDTO
  - [X] Crear Controller
    - GestionLeyUrgController
  - [X] Crear Repository
    - GestionLeyUrgRepository

- [-] Crear Vista en Vue [2/4]
  - [X] Tabla de gestion (como en gestion ges) con datos pacientes ley urgencia
  - [ ] al hacer click o doble click debe llevar a ficha urgencia
  - [X] Agregar boton para ir a ficha del paciente
  - [ ] Si fecha es nulo debe indicar que se eliminó la notificacion de ley urgencia
    - Consultar si la fecha puede o no ser nula, para diferenciar de los notificados vs los que se ha eliminado la notificación de Ley de Urgencia
*** DONE Cambios realizados
- WEB
  - Urgencia
    - gestion-ley-urgencia.vue C
- API
  - GestionLeyUrgController C
  - GestionLeyUrgRepository C
  - GestionLeyUrgDTO C
- DB
  - spu_fcu_gestion_ley_urg_listar
  - INSTERT INTO MENU Gestion Ley Urgencia

** DONE Requerimiento seguiminto GES Ambulatorio [4/4]
<2023-06-12 Mon>
- [X] En ficha atencion ambulatorio [2/2]
  - [X] agregar pregunta "¿Control patología GES?" (s/n)
  - [X] Que aparezca cuando la patologia es GES
- [X] En API agregar parametro FdiControlPatologiaGes
- [X] En DB agregar marca seguimiento GES [1/1]
  - [X] en FCE_DIAGNOSTICO agregar columna FDI_CONTROL_PATOLOGIA_GES CHAR (1) "s/n"
- [X] En SP agregar cambios respecto a marca seguimiento ges [2/2]
  - [X] en gestion ges cambiar query para descartar los diagnosticos marcados como seguimiento ges
    - Obtener sólo los diagnósticos marcados como "N"
  - [X] En guardar diagnostico agregar variable control ges y columna control ges
*** Cambios Realizados
- WEB
  - Ambulatorio
    - registro-atencion M
- API
  - FichaClinicaAmbulatoria
    - AtencionAmbulatoriaRepository M
  - Common.Models M
    - DiagnosticoDTO M
- DB
  - FCE_DIAGNOSTICO M
    - ADD COLUMN FDI_CONTROL_PATOLOGIA_GES
  - spu_fce_ges_listar_notificaciones M
  - spu_gen_guardar_diagnostico M
  - spu_fca_atencion_pendiente M
- GIT
  - feature-gestion-ges M

** DONE Requerimiento protocolo operatiorio [2/2]
- [X] agregar fecha termino (manual) [1/1]
  - [X] En vista date picker al lado de fecha inicio / hora inicio
    - [X] En API usar fecha desde vue como fechaHasta
- [X] Agregar marca de "participa" si/no en la cirugia al lado del nombre de profesional con radio button (si/no) [3/3]
  - [X] Propiedad en vue inicia como NO
  - [X] El campo del profesional debe ser required si se indica que participa
  - [X] Si se indica que el profesional no participa el campo es disabled, el dato null y no required
*** Modificaciones [7/7]
<2023-06-20 Tue>
- [X] Pediatra y matrona por defecto como NO
<2023-06-27 Tue>
- [X] Campos de texto libre parte final como obligatorios
- [X] Revisar comportamiento verificacion ingreso hospitalario en lista protocolo
  - Al parecer hay datos sucios, al buscar directo en el sp por fechas no se encuentran pacientes con 'N' en campo TIENE_INGRESO
  - Con las fechas 28-12-2020 hasta 30-12-2020 hay datos con la marca correcta para mostrar de ejemplo
    si eran datos sucios
<2023-07-07 Fri> Inicio
- [X] Agregar lateralidad a protocolo
  - Traer TIT_CODIGO desde pre protocolo y carga protocolo para poder guardar
- [X] Quitar "_test" de obtener_pre_protocolo
  - RCI_CORREL lo envia como 0, revisar en vue y en api por que, DB está en orden por ahora
    - Era porque el sp obtener protocolo no traia RCI_CORREL
  - Al editar protocolo no trae equipo medico, revisar
    - El problema nace al traer RCI_CORREL desde sp_obtener_protocolo_v2, tratar de determinar por que se elimino ese dato de la query y ver cámo volver a incorporarlo
    - Para solucionarlo debo asignar los parametros cirugia.correlativo y equipoMedico.codigoCirugia a RCI_CORREL
- [X] Lateralidad REQUIRED!!
  - Usar AuxRciCorrel en DTO Cirugia para guardar RCI correl y poder guardar lateralidad
    - Todos los cambios pertinentes a lateralidad deben actualizarce y utilizar auxiliar en lugar de rciCorrel
    - Al traer cirugias y agruparlas por correlativo, me trae un AuxRciCorrel que no corresponde
- [X] Cambiar en vista, si dato viene vacio, seleccionar automaticamente si/no en created
- Pasar informe protocolo operatorio a PROD
<2023-07-13 Thu> Terimno
*** Cambios Realizados
- WEB
  - Hospitalizado
    - Protocolo M
    - Routes M
- API
  - Hospitalizado
    - ProtocoloController M
    - ProtocoloRepository M
    - CirugiaDTO M
- DB
  - spu_pab_guardar_reserva_cirugia M
  - spu_pab_obtener_pre_protocolo_v2 M
  - spu_pab_obtener_protocolo_v2 M
  - spu_pab_listar_cirugias_sin_protocolo_v3 (modificado por colega anteriormente, se debe agregar a paso PROD)
- GIT
  - WEB
  feature-protocolo-operatorio C
  - API
  feature-protocolo-operatorio C
- INFORMES
  - Informe protocolo operatorio M



** DONE Pruebas PTO MONTT usando QA [3/3]
<2023-06-20 Tue>
- [X] Usar KINE_CASC
- [X] Dejar sólo servicio Centro Médico disponible para KINE_CASC
- [X] Cargar pacientes para el día Viernes (anotarlos)

** DONE Habilitar Talca [2/2]
   CLOSED: [2023-07-13 Thu 18:48]
- [X] COMPILAR API[8/8]
  - [X] AdmisionAmbulatoria
  - [X] Auth
  - [X] FichaClinicaAmbulatoria
  - [X] Global
  - [X] Solicitudes
  - [X] Usuarios
  - [X] Valorizacion
  - [X] Urgencia
- [X] Compilar WEB [6/6]
  - [X] Ambulatorio
  - [X] ComponenteDistribuido GES
  - [X] Login
  - [X] Solicitudes
  - [X] Usuarios
  - [X] Valorizacion
- Config APIS talca
  - AppSettings.ProductionCAST.json
  - AppSettings.StagingCAST.json
    - Usar ejemplo de production CUPM con instancia \\CAST
  - Agregar entorno en launchSettings.json con ejemplo CUPM
  - en PROYECTO.Api.csproj agregar en base a PTO MONT fijarse en todo el archivo
  - Confirmar despues de compilar que WebConfig apunte a ProductionCAST
  - Confirmar despues de compilar que archivo AppSettings.ProductionCAST apunte al servidor con la instancia
- Config en VUE
  - Usar variables de PTO MONT usar puerto :8095
  - http://andesmed.andessalud.cl
*** DONE Modificaciones [2/2]
<2023-06-29 Thu>
- [X] componente distribuido web agregar puerto :8095 VUE_APP_COMPONENTES_SERVER
- [X] dejar rama release de proyectos al nivel de master


** DONE Recien Nacido Clinica [5/5]
<2023-07-13 Thu> Inicio
- [X] Rama feature-recien-nacido desde QA
- [X] Punto 2 Antecentes maternos Nueva DTO
- [X] Punto 3 Antecedentes del parto Nueva DTO
- [X] Diagnostico Texto Libre
- [X] Indicaciones Texto Libre
*** Cambios realizados
- WEB
  - Clinica
    - recien-nacido.vue M
- API
  - FichaClinicaHospitalizado M
    - RecienNacidoDTO M
    - AntecendentesMaternoDTO C
    - AntecedentesPartoDTO C
    - AtencionMedicoController M
    - AtencionMedicoRepository M
- DB
  - spu_fch_guardar_antecedentes_materno C
  - spu_fch_guardar_antecedentes_parto C
  - spu_fch_guardar_recien_nacido M
  - spu_fch_obtener_recien_nacido M
- GIT
  - WEB
    - Clinica
      - feature-recien-nacido (QA) C
  - API
    - FichaClinicaHospitalizado
      - feature-recien-nacido (QA) C
  <2023-07-20 Thu>  Termino
- AtencionMedico grabar/recien/nacido
- En tabla RECIEN_NACIDO solo esta Diagnostico e Indicaciones
- En tabla ANTECEDENTES_MATERNOS y ANTECEDENTES_PARTO estan los datos que corresponden a cada parte del formulario respectivamente
- Cambios en nombre columnas / nueva columnas
  - HAP_PUTULENTO -> HAP_PURULENTO
  - HAP_MECONIO_ESPERO -> HAP_MECONIO_ESPESO
  - HAP_PERIODO_ALIM -> HAP_PERIODO_DILATACION
  - HAP_OTROS_DESCRIP

** DONE Compilar prod Amublatorio TALCA [2/2]
<2023-07-20 Thu> Inicio
- [X] API [2/2]
  - [X] FichaClinicaAmbulatoria
  - [X] AdmisionAmbulatoria

- [X] WEB [1/1]
  - [X] ambulatorio
   <2023-07-20 Thu> Termino

** DONE compilar Prod Ambulatorio Puerto Montt [2/2]
<2023-07-24 Mon> Inicio / Termino
- [X] WEB [1/1]
  - [X] ambulatorio

- [X] API [1/1]
  - [X] FichaClinicaAmbulatoria

** DONE Compilar Prod Ambulatorio Chillan [2/2]
<2023-07-24 Mon> Inicio / Terimno
- [X] WEB [1/1]
  - [X] Ambulatorio

- [X] API [1/1]
  - [X] FiclaClinicaAmbulatoria

** DONE Compilar Prod Ambulatorio Calama [2/2]
<2023-07-25 Tue> Inicio
- [X] WEB [1/1]
  - [X] Ambulatorio

- [X] API [1/1]
  - [X] FiclaClinicaAmbulatoria

    - Experimentar con entorno linux, vs code nativo (pendiente) vs nvim


** DONE agregar vista IAAS ambulatorio [5/5]
<2023-07-26 Wed> Inicio
- [X] rama desde master
- [X] WEB [5/5]
  - [X] Vista en vue tomar ejemplo comite oncologico de ambulatorio y otros-profesionales de hospitalizado
  - [X] Mapear datos correctamente para seguimiento iaas
  - [X] Verificar validations
  - [X] Verificar permisos/disabled de botones
  - [X] Crear metodo en componente alergias para buscar recibiendo rut como parametro desde ref
- [X] API [4/4]
  - [X] Crear SeguimientoIaasController [2/2]
    - [X] Endpoint para guardar seguimiento
    - [X] Endpoint para obtener seguimiento
  - [X] Crear SeguimientoIaasDTO
  - [X] Crear SeguimientoIaasRepository [2/2]
    - [X] Método para guardar seguimiento
    - [X] Método para obtener seguimiento
  - [X] Registrar repository
- [X] DB [2/2]
  - [X] Crear sp para obtener seguimiento
  - [X] Crear sp para guardar seguimiento
- [X] Crear Menu [3/3]
  - [X] Crear datos en tabla MENU
  - [X] Asignar MEN_CODIGO a usuarios
  - [X] Habilitar verificacion de permisos en router.js
   <2023-07-28 Fri> Finalizado

*** Cambios Realizados
- WEB
  - ambulatorio
    - alergias.vue M
    - datos-paciente.vue M
    - routes.js M
    - iaas.vue C
    - seguimientoIaas.js C
- API
  - FichaClinicaAmbulatoria
    - SeguimientoIaasController.cs C
    - SeguimientoIaasDTO.cs C
    - SeguimientoIaasRepository.cs C
- DB
  - spu_fce_obtener_seguimiento_iaas C
  - spu_fce_guardar_seguimiento_iaas C
  - Insert_Into_Menu_Seguimiento_IAAS_CEM C
- GIT
  - WEB
    - feature-seguimiento-iaas (master) C
  - API
    - feature-seguimiento-iaas (master) C

** TODO Compilar ENO [2/2]
- [X] WEB [1/1]
  - [X] Ambulatorio [3/3]
    - [X] Gestion GES [1/1]
      - [X] Merge master a gestion GES
    - [X] Gestion ENO [1/1]
      - [X] Merge master a gestion ENO
    - [X] Crear rama feature desde master y fusionar eno y ges
      - feature-gestion-ges-notificacion-eno
- [X] API [2/2]
  - [X] Global [3/3]
    - [X] Merge master con feature-notificacion-eno
    - [X] Merge master con gestion-ges
    - [X] Crear rama base master fusionando eno y ges
      - feature-gestion-ges-notificacion-eno
  - [X] FichaClinicaAmbulatoria [3/3]
    - [X] Merge master con feature-notificacion-eno
    - [X] Merge master con gestion-ges
    - [X] Crear rama base master fusionando eno y ges
      - feature-control-ges-notificacion-eno
*** Modificaciones / Correcciones [1/2]
- [X] Verificar fecha en vuetable ENO, problema formateo
  - Faltaba formatear fecha como DD-MM-YYYY en metodo Get (Listar)
    - <2023-10-16 Mon> se produjo error nuevamente, solucion: en map de listar crear la fecha con moment(data.fecNotif, "DD-MM-YYYY")
        para que tome el formato correcto, de lo contrario toma el día como mes y en días mayores a 12 da invalid date, en días menores da vuelta día - mes
- [-] Cambiar window.open por router.push cuando la ficha sea del mismo proyecto [2/3]
  - [X] Ambulatorio
    - [X] DEVOLVER ROUTES.JS A LA NORMALIDAD
  - [ ] Urgencia
  - [X] Clinica <2023-09-28 Thu>

** DONE Implementar informe compilacion en todos los proyectos vue [10/10]
- [X] Ambulatorio [3/3]
  - [X] Crear informeCompilacion.ps1
  - [X] Modificar empaquetar.bat para llamar informeCompilacion
  - [X] Push release y master
- [X] Urgencia [3/3]
  - [X] Crear informeCompilacion.ps1
  - [X] Modificar empaquetar.bat para llamar informeCompilacion
  - [X] Push release y master
- [X] Clinica [3/3]
  - [X] Crear informeCompilacion.ps1
  - [X] Modificar empaquetar.bat para llamar informeCompilacion
  - [X] Push release y master
- [X] Hospitalizado [4/4]
  - [X] Crear informeCompilacion.ps1
  - [X] Modificar empaquetar.bat para llamar informeCompilacion
  - [X] Push release y master
  - [X] Variables de entorno VUE_APP_AMBIENTE
- [X] componentesDistribuidos [4/4]
  - [X] Cambiar modo build para usar .env.prod
  - [X] Modificar informeCompilacion.ps1 para que obtenga datos desde archivo componente ges o caja
  - [X] Variables de entorno VUE_APP_AMBIENTE
  - [X] Push release y master
- [X] facturacion [4/4]
  - [X] Crear informeCompilacion.ps1
  - [X] Modificar empaquetar.bat para llamar informeCompilacion
  - [X] Push release y master
  - [X] Variables de entorno VUE_APP_AMBIENTE
- [X] Login [4/4]
  - [X] Crear informeCompilacion.ps1
  - [X] Modificar empaquetar.bat para llamar informeCompilacion
  - [X] Push release y master
  - [X] Variables de entorno VUE_APP_AMBIENTE
- [X] solicitudes [4/4]
  - [X] Crear informeCompilacion.ps1
  - [X] Modificar empaquetar.bat para llamar informeCompilacion
  - [X] Push release y master
  - [X] Variables de entorno VUE_APP_AMBIENTE
- [X] usuarios [4/4]
  - [X] Crear informeCompilacion.ps1
  - [X] Modificar empaquetar.bat para llamar informeCompilacion
  - [X] Push release y master
  - [X] Variables de entorno VUE_APP_AMBIENTE
- [X] valorizacion [4/4]
  - [X] Crear informeCompilacion.ps1
  - [X] Modificar empaquetar.bat para llamar informeCompilacion
  - [X] Push release y master
  - [X] Variables de entorno VUE_APP_AMBIENTE

** DONE Correo informando proceso informes compilación [2/2]
- [X] Redactar correo
- [X] Consultar si correo debe contener todo el proceso en cuerpo mensaje o adjuntar archivo con instrucciones
  - Con la info en cuerpo correo esta ok

** DONE Correcciones Clinica para prod CASEL [15/15]
<2023-08-11 Fri> INICIO
- [X] Agregar contador de caracteres en texto evolucion medica [1/1]
  - [X] Crear contador de texto en todos los list item
- [X] Agregar scroll pestaña evolucion medica , indicacion generales
- [X] Mapa cama: al cambiar de piso seccion queda seleccionado el paciente de la seccion anterior
- [X] Registro Enfermeria : pestaña evolucion se debe bloquear lo que ingresa otro usuario
- [X] Registro Enfermeria : pestaña partograma no se debe editar el registro de otro profesional. Debe aparecer bloqueado
 <2023-08-11 Fri> TERMINO De las anteriores
- [X] En Clinica, vista evolucion-medica pestaña Epicrisis las recetas debe bloquearse anterior para no editar, y debe haber un boton imprimir por cada receta, seguir comportamiento de ambulatorio ficha/atencion
- [X] Revisar por que no carga evolucion-medica
  - Problema con sp resuelto por cristian
- [X] Estado evolucion medica indicar firmado o activo, como en indicaciones generales *** usuLoginEjecuta no se si corresponde ahi, consultar ***
- [X] Revisar anular Indicación para que sólo médico que evoluciona pueda anular [4/4]
  - En DB no se guarda usu_login, consultar para hacer cambios desde DB hasta vista agregando usu_login
  - [X] Agregar USU_LOGIN en tabla
  - [X] Agregar USU_LOGIN en SP correspondientes
    - spu_fch_guardar_procedimiento_medico
    - spu_fch_obtener_procedimiento_medico
  - [X] Agregar UsuLogin en DTO correspondientes
    - IndicacionProcedimientoDTO
  - [X] Agregar usuLogin en vista
- [X] Balance hidrico en control enfermeria actualizar datos en la vista para evitar tener que re-cargar para actualizar datos
 <2023-08-14 Mon> TERMINO de las anteriores
  - Pruebas con rut Alex ingreso 125
- [X] Indicacion general debe indicar estado Suspendido con badge en columna Estado.
- [X] Indicacion general en registro enfermeria debe indicar badge estado suspendido
- [X] Control Enfermeria Cliclo vital, balon contrapulsacion (ulimo valor) no aparece icono al guardar, sólo al recargar
 <2023-08-16 Wed> TERMINO de las anteriores
- [X] Estado firmado para evolucion medica <2023-08-18 Fri>
- [X] Scroll para evolucion medica <2023-08-18 Fri>

*** Cambios Realizados
- WEB
  - Ambulatorio
    - evolucion-medica.vue M
    - epicrisis.vue (src/components/medico/epicrisis.vue) M
    - mapa-cama.vue M
    - registro-enfermeria.vue M
- API
  - FichaClinicaHospitalizado
    - IndicacionProcedimientoDTO M
    - AtencionMedicoRepository M
- DB
  - ALTER TABLE HCH_PROCEDIMIENTO_MEDICO
    ADD USU_LOGIN VARCHAR (30)
  - spu_fch_guardar_procedimiento_medico M
  - spu_fch_obtener_procedimiento_medico M
- GIT
  - WEB
    - Clinica
      - feature-correcciones-prod-casel (QA) C
  - API
    - FichaClinicaHospitalizado
      - feature-correcciones-prod-casel (QA) C
** DONE Correcciones Urgencia Produccion CASEL [23/23]
<2023-08-16 Wed> INICIO
- [X] Fecha en signos vitales no se ve al grabar desde clasificacion esi
  - La fecha que se estaba formateando al buscarPaciente era la de los datos de vue local, lo que resultaba en invalid date (db y sp todo ok)
    - se modifica spu_fcu_guardar_procedimiento_enfermeria, atencionRepository y procedimientoEnfermeriaDTO
- [X] En Atencion Enfermeria datos no se actualizan, revisar si en db esta guardando o no *** Puede ser por mala logica de filtro y logica de repository ***
  - Se estan duplicando ahora...lol
    - Estaba dado vuelta la operacion ternaria... dumb
- [X] Se pierde la categorizacion al guardar en atiencion enf
- [X] Atención Enf no se muestra tooltip en plan enfermeria (Comparar con clinica)
  - nombrePrestador y rutPrestador vienen null, revisar api y sp
  - Deberia funcionar, ahora guarda prestador en cuidado.planEnf.prestador
  - Funca, pero al guardar despues hay que cargar datos denuevo pa que aparezcan datos en tooltip (o ver otra opcion pa que se habilite el tooltip)
  - Eran varias cosas: En la api no asignaba valor a variable fecha, despues de guardar no llamaba a buscar plan de enfermeria para cargarlo, y en vista no se enviaba los nuevos datos de plan enf a componente, ya quedo listo corrigiendo eso
- [X] En urgencia atencion se debe quitar requiere Kine [1/1]
  - [X] Eliminar validation requiere kine
- [X] Api urgencia entregar usu_login para indicaciones generales
- [X] Urgencia atencion agregar bagde suspendido
- [X] Ciclo vital balon contrapulsacion no se ve icono
- [X] Agregar campo termino de atencion, fuera de los tabs, como en clinica
- [X] Revisar loaders en atencion enfermeria
<2023-08-21 Mon> Termino Anterior
<2023-08-22 Tue> Inicio
- [X] Ocultar boton guardar/firmar en atencion-enfermeria [9/9]
  - [X] Pestaña atención medica ocultar botones guardar datos y firmar evolución
  - [X] Pestaña administración medicamento de la enfermera ocultar botón firmar evolución
  - [X] Pestaña indicación médica  ocultar botones guardar datos y firmar evolución
  - [X] Pestaña Historial paciente  ocultar botones guardar datos y firmar evolución
  - [X] Pestaña ex. Laboratorio y ex. imagenología  ocultar botones guardar datos y formar evolución
  - [X] Pestaña plan enfermería ocultar botón firmar evolución
  - [X] Pestaña ciclo vital ocultar botones guardar datos y firmar evolución
  - [X] Pestaña ciclo escalas ocultar botones guardar datos y firmar evolución
  - [X] Pestaña control enfermería  ocultar botones guardar datos y formar evolución
- [X] Firmar atencion Enfermeria loader queda encima
  - Faltaba await en Vue.Swal que pregunta si esta seguro de firmar
- [X] Decimal en signos vitales que sea con . y con ,
  - Consultar por cual otro campo, se hace una funcion que formatea el decimal en el input
  - solo campos rsvTax, rsvTrec y rsvPeso, en vista atencion, atencion-especialista y categorizacion
- [X] Eliminar objeto requiere Kine de atencion
  - Revisar si eliminar todo desde DB o solo enviar valor NULL
  - Enviar null solamente desde sp, aceptar nulos en DTO
- [X] Revisar modal GES no abre
  - problemas en componente, consultar para revisar
  - Con un reinicio del server levanto
- [X] Alta paciente revisar Fecha de alta
- [X] Atencion medico revisar fecha alta con ficha 2226323
  - se modifica sp spu_fcu_guardar_atencion para que guarde fecha en ATE_HTA
   <2023-08-22 Tue> Termino Anterior
  <2023-09-11 Mon>  Inicio
- [X] Mapa cama duplica registros en vista
  - Se vacia array en comienzo del método listarBoxCamas() para que no se dupliquen datos
- [X] Mapa cama cambiar asignacion
  - spu_fcu_mc_cambiar_asignacion_cama
  - Api Urgencia cambio en MapaCamaRepository
  - Vue cambios en MapaCama
- [X] Balance Hidrico
  - Corrección horas en componentes control ingreso y egreso
- [X] Producto medicamento buscar por nombre
 <2023-09-12 Tue> Terminado lo anterior
- [X] Agregar boton Informes Medicos en Enfermera y Otros Profesionales <2023-09-13 Wed> Inicio y Termino
- [X] Agregar filtro de fecha para Solicitud medicamentos <2023-09-13 Wed> Inicio y termino
  - VUE
    - Urgencia
      - solicitud-medicamentos M
      - solicitud.js M
  - API
    - Solicitudes
      - SolicitudMedicamentoController M
      - SolicitudMedicamentoRepository M
  - DB
    - spu_sol_solicitud_medicamentos M
  - GIT
    - VUE
      - Urgenica
        - feature-correcciones-prod-casel M
    - API
      - Solicitudes
        - feature-filtro-fecha-medicamentos C
** DONE crear script para borrar cache de chrome
<2023-08-18 Fri>

** DONE Clear-Site-Data [0/0]
- Es un HTTP Header de tipo response, por lo cual se debe agregar desde el servidor al cliente
- Se debe encontrar una manera de hacer que el cliente identifique que está atrasado en la version
- Si cliente esta atras en version se debe llamar al servidor para que envíe un response añadiendo al header clear-site-data
- Una opcion es crear un endpoint dedicado a agregar el header clear-site-data al response el cual se llame cuando la aplicacion identifique estar fuera de version
  - Cómo identificar?
    - Puede ser setear un metodo que verifique una version estatica la cual se actualice manualmente en cada actualizacion
- Al parecer en chrome no se puede usar el header y en firefox se elimino el cache de las opciones disponibles
  - [[https://github.com/w3c/webappsec-clear-site-data/issues/68][Firefox elimina "cache" de las opciones del header]]
  - [[https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Clear-Site-Data#browser_compatibility][Segun compatibilidad Chrome tiene disponible el feature, pero no deja usar header]]
-  USAR ESTA ALTERNATIVA La alternativa que queda es mantener las versiones de los proyectos en la DB, llamar a endpoint en Main.vue de cada proyecto para confirmar que la version actual del proyecto sea la misma que en DB
  - Para esto lo mejor es hacer endpoint en global, sp que recupere las versiones desde una tabla nueva VERSIONES_VUE (?)
  - en Main.vue hacer la llamada al endpoint para comparar y si está atrasado enviar un window.location.relead(true) el valor "true" indica recargar limpiando la cache (como Ctrl+F5)
    - NOTA: Hay un bug que puede pasar que si la comparación no coincide incluso despues de hacer el fetch puede caer en un bucle infinito de reload, es algo a tener en cuenta
      - Se mitiga al asignar la variable que compara con el valor que trae, para forzar la carga una sola vez
- La otra opcion es [[https://support.google.com/chrome/a/answer/10686330?hl=en#zippy=][configurar Chrome]] para borrar cache cada vez que cierre o cuando pase un tiempo definido

** DONE Test PROD CALAMA Urgencia [3/3]
- [X] Botón guardar y firmar en interconsulta estan habilitados para enfermera
  - Se agrea !$store.getters.GetEsMedico para que solo medicos puedan grabar / terminar atencion
  - Consultar por metodo de confirmacion en interconsulta esMedicoAtencion, quiza se deba consultar por usu_nombre
  - Se verifica al guardar / terminar el permiso del perfil por lo tanto no deja guardar
- [X] Al firmar atencion del médico asignar cama queda disponible, se mantiene o disabled?
  - Se queda asi mientras, no es un problema
- [X] En vistas atencion-enfermeria, atencion-especialista, categorizacion, alta-paciente el campo ateFecLeyUrg está presente, reemplazar por hluFecLeyUrg

** DONE Test PROD CALAMA Clinica [5/5]
- [X] En lista de trabajo al hacer doble click te lleva a la atención, pero no completa los datos del paciente
- [X] No aparecen evoluciones médicas después de guardar, ni al volver a buscar paciente
  - Un tema de sp con la fecha, solucionado por cristian
- [X] No se paso el feature de los bagde para indicacion med
- [X] En Registro Rehabilitacion campo Tiempo desde ultima alimentacion da error al ingresar letras [1/1]
  - Segun consultas a Kine, debe ser campo texto libre, por lo tanto se cambia en db y sp a VARCHAR(10)
  - [X] Agregar maxlength=10 en VUE
- [X] En registro Nutri no se borran todas las evoluciones al seleccionar todo, solo al seleccionar de a una


** TODO Clear cache comparando version en DB [0/4]
- [ ] Crear endpoint en global para traer info desde DB [0/3]
  - [ ] CacheController
  - [ ] CacheDTO
  - [ ] CacheRepository
- [ ] Agregar variable de entorno en vue para identificar nombre de proyecto QA o PROD
- [ ] Llamar en vue a endpoint indicando nombre de proyecto para obtener version
- [ ] Resolver problema de reload infinito
  - Si alguien carga una version y no lo actualiza en la DB a mano, se produce el error de carga infinito
  - Una opcion es hacer que chequee sólo en prod para evitar los problemas al haber multiples cambios en QA

** TODO Revisar paso prod mantenedores [0/3]
- [ ] Conteo de SPs utilizados por proyecto [11]
  - Isapre [4]
    1. spu_fce_mantenedor_obtener_isapre
    2. spu_fce_mantenedor_obtener_isapre_por_codigo
    3. spu_fce_mantenedor_crear_isapre
    4. spu_fce_mantenedor_actualizar_isapre
  - Feriado [3]
    1. spu_fce_mantenedor_eliminar_feriado
    2. spu_fce_mantenedor_crear_o_actualizar_feriado
    3. spu_fce_mantenedor_obtener_feriados
  - Condicional Convenios [4]
    1. spu_fce_mantenedor_eliminar_condi_convenios
    2. spu_fce_mantenedor_crear_o_actualizar_condi_convenio
    3. spu_fce_mantenedor_obtener_condi_convenios
    4. spu_fce_mantenedor_eliminar_condi_convenios
- [ ] Conteo de TABLE utilizados por proyecto
  - Isapre
    1. ISAPRE
  - Feriado
    1. FERIADOS

** TODO Recien nacido Tres proyectos [0/1]
- [ ] Recien nacido mayor a 28 dias pedir rut
  - Tomar fecha de admision como referencia para edad del recien nacido
  - Tabla CONFIGURACION columna CON_CODIGO = RN obtener CON_VALOR
  - spu_gen_obtener_parametros_configuracion 'RN'
    1855 vue ambulatorio

** DONE Fecha Filtro Solicitud Medicamentso Clinica [4/4]
<2023-09-20 Wed> Inicio
- [X] Agregar variable fecha filtro en Vista solicitud-medicamentos.vue
- [X] Agregar fechas en métodos de cada tab
- [X] Agregar showLoader y hideLoader en metodo listaSolicitudMedicamentos
- [X] Agregar fechaFiltro en service/solicitud.js clase SolicitudMedicamento
*** Cambios Realizados
- WEB
  - Clinica
    - solicitud-medicamentos.vue
    - solicitud.js
** DONE Label Codigo - Nombre para ex. Lab e Imagen Urgencia y Clinica [0/0]
- Urgencia [1/1]
  - [X] Cambiar label de vue select "psrDescrip" a "codigoNombre"
- Clinica [1/1]
  - [X] Cambiar label de vue select "psrDescrip" a "codigoNombre"
- Common.Models [1/1]
  - [X] Cambiar GrupoExamenDTO para crear campo combinado "codigoNombre"
*** Cambios Realizados
- WEB
  - Urgencia
    - examenes-laboratorio.vue M
    - examenes-imagenologia.vue M
  - Clinica
    - examenes-laboratorio.vue M
    - examenes-imagenologia.vue M
- API
  - Common.Models
    - GrupoExamenDTO M
- GIT
  - Urgencia
    - feature-select-examenes
  - Clinica
    - feature-select-examenes
  - Common.Models
    - feature-select-examenes


** DONE Hospitalizado cambios Preparacion Pre Operatioria [1/1]
- Trabajar rama hojas
- [X] Tab Preparacion Operatoria se debe mostrar, todo el resto debe ocultar
  - [X] Verificar que ninguna funcion de los tabs ocultos se esté llamando
- [X] Cambiar nombre a Preparacion Pre Operatoria
- Hacer funcionar bien la vista en hospitalizado antes de mover a otro proyecto
  - Los checkbox estaban inicializados en null, por lo cual daba error [object, object] al enviarlo a la api, se cambian a iniciar en false y se guarda dato
- [X] Agregar sobre información horaria info última modificación
  - Consulta: Los campos se bloquan al guardar, cómo proceder ahi? desbloquear todos, algunos o ninguno?
    - Eliminar todos los disabled
  - [X] Usuario
    - Consulta: Se debe traer el USU_LOGIN además del nombre completo para realizar comparaciones de username para operaciones como modificar registros y demás?
  - [X] Servicio
  - [X] Fecha Registro
- [X] Doc llevar desde protocolo hasta evolucion medica clinica
- [X] En pabellon agregar componente alegrias paciente y eliminar duplicados de alergia y medicamentos contraindicados
- [X] vista pabellon.vue se debe pasar a proyecto Clinica
*** Cambios Realizados
- WEB
  - hospitalizado
    - routes.js M
    - listaProtocolo.vue M
    - preparacionOperatoria.vue M
    - pabellon.vue M
  - clinica
    - routes M
    - preparacionOperatoria.vue C
    - ficha-pabellon.vue C
    - fichaClinica.js C
- API
  - hospitalizado
    - ProtocoloDTO M
    - ProtocoloRepository M
- DB
  - spu_pab_listar_cirugias_sin_protocolo_v3 M
- GIT
  - WEB
    - hospitalizado
      - hojas M
    - clinica
      - feature-ficha-pabellon C
  - API
    - hospitalizado
      - hojas M
*** DONE Errores encontrados [1/1]
- [X] ficha pabellon no guarda fechas en clinica

** DONE Fix eliminar cirugia editarProtocolo [1/1]
- [X] Eliminar cirugía da error al intentar borrar una cirugía sin guardar en base de datos, revisar para eliminarla del arreglo local
  - se agrega en metodo borrar verificar si cirugia esta en db, de no ser asi se elimina sólo del arreglo local<2023-09-28 Thu>
*** Cambios realizados
- WEB
  - hospitalizado
    - reservaPabellon.vue
** DONE Filtro paciente para Solicitudes y Despacho Uni Clinica [5/5] <2023-10-03 Tue>
- Tomar de referencia Urgencia
- [X] Tab Solicitudes [3/3]
  - [X] Aplicar filtro paciente en Tab solicitudes
  - [X] Agregar columna Cantidad Entregada
  - [X] Modificar columna Cantidad a Cantidad Solicitada
- [X] Tab Despacho Uni [2/2]
  - [X] Agregar check medicamentos entregados
  - [X] Aplicar filtro paciente en Tab solicitudes
- [X] Aplicar recarga de datos en método entregar medicamento
- [X] Aplicar onRowClass a vuetable y crear método
- [X] Corregir evolucion medica para obtener paciente sin rut (recien nacido) [2/2]
  - [X] Buscar paciente en created sin rut
  - [X] Guardar paciente validators sin rut
*** Cambios Realizados
- WEB
  - clinica
    - solicitud-medicamentos.vue M
    - evolucion-medica.vue M
- GIT
  - clinica
    - feature-filtro-paciente-solicitud-med
     <2023-10-05 Thu> TERMINO

** DONE Imprimir indicacion medicamento Clinica [2/2]
<2023-10-04 Wed>
- [X] Clinica VUE [3/3]
  - [X] Crear botón imprimir tarjetero en vista registro-enfermeria tab admin medicamentos y soluciones
  - [X] Servicio, ficha, ingreso se envia desde vue
  - [X] Crear llamada a endpoint informe
- [X] FichaClinicaHospitalizado API [3/3]
  - [X] Crear endpoint para recibir solicitud imprimir informe
  - [X] registrar nueva ruta de informe en appSettings.json y en reporte DTO
  - [X] configurar metodo para obtener informe
*** Cambios Realizados
- WEB
  - clinica
    - registro-enfermeria.vue M
    - evolucionEnfermeria.js M
- API
  - FichaClinicaHospitalizado
    - reporte.cs DTO M
    - appSettings.json de cada clinica
    - AtencionEnfermeriaController M
    - ReportesFichaClinica M
- GIT
  - web
    - clinica
      - feature-imprimir-admin-med-sol
  - api
    - FichaClinicaHospitalizado
      - feature-imprimir-admin-med-sol

** DONE Buscar por ficha proyecto clinica [1/1]
<2023-10-05 Thu>
- [X] Implementar busqueda por ficha paciente [10/10]
  - [X] Medico
  - [X] Enfermera
  - [X] Control Enfermeria
  - [X] Otros Profesionales
  - [X] Kine
  - [X] Nutri
  - [X] Ingreso enfemería
  - +Notificaciones GES+ NO
  - [X] Epicrisis Enfermera
  - [X] Ficha Pabellón
  - [X] Recien Nacido
- [X] Implementar de manera correcta el limpiarDatos en vistas [10/10]
  - [X] Medico
  - [X] Enfermera
  - [X] Control Enfermeria
  - [X] Otros Profesionales
  - [X] Kine
  - [X] Nutri
  - [X] Ingreso enfemería
  - +Notificaciones GES+ NO
  - [X] Epicrisis Enfermera
  - [X] Ficha Pabellón
  - [X] Recien Nacido
*** Cambios Realizados
- WEB
  - clinica
    - epicrisis.vue M
    - evolucion-medica.vue M
    - registro-enfermeria.vue M
    - registro-nutricionista.vue M
    - kinesiologo.vue M
    - otros-profesionales M
    - control-enfermeria M
    - ingreso-enfermeria M
    - epicrisis-enfermeria M
    - ficha-pabellon M
    - preparacion-operatoria M
    - recien-nacido.vue
- GIT
  - clinica
    - feature-buscar-por-ficha
*** DONE Errores encontrados [1/1]
<2023-10-16 Mon>
- [X] Con paciente desde store la ficha no se muestra en campo de busqueda
  - Se implementa un respaldo de las opciones seleccionadas al momento de buscar paciente
      ya que se sobreescribian al traer paciente.data, después de buscar paciente se
      se recuperan datos de ficha.paciente.optionRut/Pasaporte/PacNumFicha de los respaldos hechos

** DONE Validar fecha cama paciente clinica [1/1]
<2023-10-11 Wed>
- [X] En admisión al intentar poner fecha hasta, validación no deja ingresar misma fecha que fecha desde
- [X] Ocultar campos Admision [2/2]
  - [X] Medicamentos Contraindicados
  - [X] RAM (reacciones alergicas a medicamentos)
*** DONE Errores Encontrados [1/1]
- [X] FechaHasta se guarda con valor fechaDesde y causa error trigger en db
  - En api AdmisionHospitalaria hay error con asignar fechaHasta con valor fechaDesde, se corrige
*** Cambios Realizados
- WEB
  - clinica
    - admision.vue M
- API
  - AdmisionHospitalaria
    - AdmisionRepository.cs M
- GIT
  - WEB
    - feature-correcciones-prod-casel
  - API
    - feature-correccion-fecha-cama-habitacion

** DONE Ocultar Campos Urgencia [1/1]
<2023-10-11 Wed>
- [X] Ocultar campos Admision [2/2]
  - [X] Medicamentos Contraindicados
  - [X] RAM (reacciones alergicas a medicamentos)
*** Cambios Realizados
- WEB
  - urgencia
    - admision.vue M
- GIT
  - feature-correcciones-prod-casel

** DONE Mover motivo ingreso a tabla arriba Urgencia [1/1]
<2023-10-11 Wed>
- [X] agregar columna motivo ingreso en tabla pacientes en box
*** Cambios Realizados
- WEB
  - urgencia
    - mapa-cama.vue M
- API
  - Urgencia
    - mapaCamasRepository M
    - camaDTO M
- DB
  - spu_fcu_mc_listar_camas_x_box
- GIT
  - WEB
    - feature-correcciones-prod-casel
  - API
    - feature-correcion-prod-casel

** DONE Correcciones Urgencia [3/3]
<2023-10-12 Thu>
- [X] Max lenght de evolucion enfermera a 3000
- [X] optimizar espacio horizontal de tabla evolucion enf
- [X] dejar en color danger y bold la letra de vel infusion y obs en donde sea soluciones vista medico
*** Cambios Realizados
- WEB
  - Urgencia
    - atencion-enfermeria.vue M
    - atencion.vue M
- GIT
  - feature-correcciones-prod-casel
** DONE Guardar paciente en store al buscarPaciente Clinica [1/1]
- [X] Agregar dispatch en la store para guardar paciente en método buscarPaciente [9/9]
  - [X] evolucion-medica
  - [X] control-enfermeria
  - [X] registro-enfermeria
  - [X] registro-nutricion
  - [X] otros-profesionales
  - [X] registro-rehabilitacion
  - [X] ingreso-enfermeria
  - [X] ficha-pabellon
  - [X] recien-nacido
*** Cambios Realizados
- WEB
  - clinica
    - evolucion-medica.vue M
    - control-enfermeria.vue M
    - registro-enfermeria.vue M
    - registro-nutricion.vue M
    - otros-profesionales.vue M
    - kinesiologo.vue M
    - ingreso-enfermeria.vue M
    - ficha-pabellon.vue M
    - recien-nacido.vue M
- GIT
    feature-guardar-pac-store
** DONE Corregir formateo fecha gestion ENO [1/1]
- [X] agregar formateo correcto de fecha en cargarTablaEntidades() [2/2]
  - [X] Ambulatorio
  - [X] Clinica
*** Cambios realizados
- WEB
  - clinica
    - gestion-eno.vue M
  - ambulatorio
    - gestion-eno.vue M
- GIT
  - WEB
    - clinica/ambulatorio
      - feature-notificacion-eno M
** DONE maxLength 4000 para evo kine clinica [1/1]
- [X] aumentar a 4000 maxLength [3/3]
  - [X] freEvolucion
  - [X] freObjTerap
  - [X] freResEscalaEval
*** Cambios realizados
- WEB
  - clinica
    - kinesiologo.vue M
- GIT
  feature-correcciones-prod-casel
** DONE Categorizacion ESI Urgencia clasifica mal [1/1]
- [X] ESI se guarda sin numero de clasificacion, revisar
  basicamente el problema era que al cancelar la clasificacion los datos quedaban igual y se guardaba mal, se corrige ese comportamiento solo vue
  urgencia
  feature-categorizacion-esi
  2226321
** TODO Implementar evolucion médica en Urgencia [3/3]
- [X] tab evolución médica
- [X] botones guardar y firmar evolucion cuando tab evo activa
- [X] usar endpoint de clinica como ejemplo, mismo sp y db [4/4]
  - [X] llamada endpoint en vue
  - [X] controller
  - [X] dto
  - [X] repository
*** Cambios Realizados
- WEB
  - urgencia
    - atencion.vue M
    - fichaClinica.js
- API
  - urgencia
    - AtencionController.cs M
    - EvolucionMedicoDTO.cs C
    - AtencionRepository.cs M
- GIT
  - WEB
    - urgencia
      - feature-evolucion-medica
  - API
    - urgencia
      - feature-evolucion-medica
** DONE Imprimir informes en clinica [2/2]
- [X] nueva vista imprimir informes [3/3]
  - [X] crear menu
    #+begin_src sql
    -- Menu en Clinica
    INSERT INTO MENU
    (MEN_CODIGO, MEN_NOMBRE, MEN_CODIGO_MEN, MEN_ORDEN, MEN_HREF, MEN_EXTERNO, ASU_CODIGO, MEN_ICON)
    VALUES ((SELECT MAX(MEN_CODIGO) + 1 FROM MENU), 'Imprimir Ficha', 174, (select max(MEN_ORDEN) +1 from MENU where MEN_CODIGO_MEN = 174), '/imprimir-ficha', 0, 7, NULL)

    -- Asignar menu a perfil ENFERMERAS a modo de prueba
    insert into PERFIL_SERVICIO (SER_CODIGO, PER_CODIGO, MEN_CODIGO, PES_ABRE, PES_GRABA, PES_ELIMINA, PES_AUTORIZA)
    values ('MED', 'ENFERMERAS', 230, 1, 1, 1, 1)
    #+end_src
  - [X] buscar paciente por ficha, rut y pasaporte
  - [X] mostrar datos paciente basicos y debajo el formato de imprimir
- [X] Crear endpoint informe para loop todos ingresos y para un solo informe [2/2]
  - [X] Crear endpoint para imprimir un sólo ingreso
  - [X] Crear endpoint para imprimir todos los ingresos
*** Cambios Realizados
- WEB
  - clinica
    - fichaClinica.js M
    - routes.js M
    - src/router/views/informes/ C
    - imprimir-ficha.vue C
- API
  - FichaClinicaHospitalizado
    - informeFichaClinicaController.cs C
    - ReportesFichaClinica.cs M
    - Reporte.cs DTO M
    - AppSettings.json de cada clinica STAGING y PROD M
      - se agrega ruta "ImprimirFichaClinica": "/InformesRS/FCH_MED_Ficha_Clinica"
- DB
  - MENU M
  - PERFIL_SERVICIO M
- GIT
  - WEB
    - clinica
      - feature-imprimir-ficha-paciente
  - API
    - FichaClinicaHospitalizado
      - feature-imprimir-ficha
** DONE Admision RN con anexo madre Clinica [1/1]
<2023-11-07 Tue>
- [X] En admision que no sea required el rut/pasaporte si tipo paciente es RN
  - Se revisa validations y se utiliza metodo function (model){} en lugar de funcion flecha (model)=>{} para poder acceder a los valores de data() y asi poder verificar con mejor precision los datos
  - En buscar registro se ve la opcion de dejar como rut si no tiene rut ni pasaporte. Se deja opción seteada
*** Cambios realizados
- WEB
  - clinica
    - admision.vue M
- GIT
  - clinica
    - feature-admision-rn-anexo-madre

** DONE Evolución Interconsultor en evolucion-medica clinica [10/10]
<2023-11-08 Wed>
- [X] en tabla HCH_EVOLUCION_MEDICA agregar columna HEM_INTERCONSULTOR CHAR 1 S/N para indicar si evolucion es de interconsulta o no
- [X] en tabla HCH_EVOLUCION_MEDICA setear como N nueva columna HEM_INTERCONSULTOR para datos anteriormente existentes
- [X] modificar SP para que agregue marca S/N si es interconsultor o no
- [X] en API agregar al DTO nuevo parámetro para HemInterconsultor como bool
- [X] en API nuevo Controller para evolucion interconsultor InterconsultorController
- [X] en API nuevo Repository para evolución interconsultor InterconsultorRepository
- [X] en API nuevo DTO EvolucionInterconsultorDTO [2/2]
  - [X] tomar de base EvolucionMedicoDTO
  - [X] Agregar parametros PacNumFicha e IngCorrel
- [X] en vista evolucion-medica agregar nuevo tab Evolución Interconsultor, tomar de referencia apariencia y funciones de evolucion-medica
- [X] Implementar anular evolucion interconsulta [4/4]
  - [X] Agregar valor INTERCONSULTOR: 'IC' a constantes.js
  - [X] Agregar valores de interconsultor a modal-anulacion-evolucion.js
  - [X] Implementar segundo modal anulacion en evolucion-medica con props para interconsultor
  - [X] Agregar métodos en evolucion-medica para llamar a modal anular evolución
- [X] Nuevo helper en vue/services para llamar a endpoints Interconsultor
*** Cambios realizados
- WEB
  - clinica
    - evolucionInterconsultor.js C
    - evolucion-medica.vue M
    - modal-anulacion-evolucion.vue M
    - constantes.js M
- API
  - FichaClinicaHospitalizado
    - AtencionMedicoController M
    - AtencionMedicoRepository M
    - InterconsultorController C
    - InterconsultorRepository C
    - Startup M
    - EvolucionMedicoDTO M
    - EvolucionInterconsultorDTO C
- DB
  - ALTER TABLE HCH_EVOLUCION_MEDICA
    #+begin_src sql
    /* Agregar columna para indicar si evolucion
       corresponde a interconsultor ('S'/'N') */
    ALTER TABLE HCH_EVOLUCION_MEDICA
    ADD HEM_INTERCONSULTOR CHAR (1)
    #+end_src

  - UPDATE HCH_EVOLUCION_MEDICA
    #+begin_src sql
    /* Modificar registros para indicar que
       no son de interconsultor */
    UPDATE HCH_EVOLUCION_MEDICA
    SET HEM_INTERCONSULTOR = 'N'
    #+end_src

  - spu_fch_guardar_evolucion_medica M
  - spu_fch_obtener_evolucion_medica M
- GIT
  - WEB
    - clinica
      - feature-evolucion-interconsultor
  - API
    - FichaClinicaHospitalizado
      - feature-evolucion-interconsultor
** TODO Control Enfermeria clinica mejoras usuarios balance hidrico [2/2]
<2023-11-10 Fri> Inicio
ref modalTempIncubadora Children
ref control-neonatal Parent
ref modalColorPiel Select
ref modalAleteoNatal checkbox si/no
- [X] Ctr Puerperio [10/10]
  - [X] al momento del click abrir modal agregar objeto e indice [5/5]
    - [X] modalMamas
    - [X] modalPresenciaCalostro
    - [X] modalRetraccionUterina
    - [X] modalLoquios
    - [X] modalEpisorrafia
  - [X] en llamada a componente agregar emit hideModalCtrlNeo [5/5]
    - [X] modalMamas
    - [X] modalPresenciaCalostro
    - [X] modalRetraccionUterina
    - [X] modalLoquios
    - [X] modalEpisorrafia
  - [X] Al metodo openModalControl, agregar objeto en cuestion e indice como param
  - [X] En la ref del compontente agregar objeto e indice [5/5]
    - [X] modalMamas
    - [X] modalPresenciaCalostro
    - [X] modalRetraccionUterina
    - [X] modalLoquios
    - [X] modalEpisorrafia
  - [X] En parent setear if si modal = a nombremodal y resultado no nulo, asignar valores al objeto del modal correspondiente [5/5]
    - [X] modalMamas
    - [X] modalPresenciaCalostro
    - [X] modalRetraccionUterina
    - [X] modalLoquios
    - [X] modalEpisorrafia
  - [X] modalMamas [7/7]
    - [X] Agregar propiedades al modal para que no cierre con click afuera sólo al cancelar o cerrar
    - [X] Agregar propiedad en data itemIndex
    - [X] En el metodo abrirModal agregar objeto e indice como param
    - [X] Setear el objeto del modal usando los datos del padre que se enviaron como objeto
    - [X] Comentar emit para obtenerControlEnfermeria
    - [X] nuevo emit para llamar al metodo hideModal en padre debe recibir resultado e index
    - [X] En hideModal en caso de cancelar, el mismo emit anterior pero objeto nulo
  - [X] modalPresenciaCalostro [7/7]
    - [X] Agregar propiedades al modal para que no cierre con click afuera sólo al cancelar o cerrar
    - [X] Agregar propiedad en data itemIndex
    - [X] En el metodo abrirModal agregar objeto e indice como param
    - [X] Setear el objeto del modal usando los datos del padre que se enviaron como objeto
    - [X] Comentar emit para obtenerControlEnfermeria
    - [X] nuevo emit para llamar al metodo hideModal en padre debe recibir resultado e index
    - [X] En hideModal en caso de cancelar, el mismo emit anterior pero objeto nulo
  - [X] modalRetraccionUterina [7/7]
    - [X] Agregar propiedades al modal para que no cierre con click afuera sólo al cancelar o cerrar
    - [X] Agregar propiedad en data itemIndex
    - [X] En el metodo abrirModal agregar objeto e indice como param
    - [X] Setear el objeto del modal usando los datos del padre que se enviaron como objeto
    - [X] Comentar emit para obtenerControlEnfermeria
    - [X] nuevo emit para llamar al metodo hideModal en padre debe recibir resultado e index
    - [X] En hideModal en caso de cancelar, el mismo emit anterior pero objeto nulo
  - [X] modalLoquios [7/7]
    - [X] Agregar propiedades al modal para que no cierre con click afuera sólo al cancelar o cerrar
    - [X] Agregar propiedad en data itemIndex
    - [X] En el metodo abrirModal agregar objeto e indice como param
    - [X] Setear el objeto del modal usando los datos del padre que se enviaron como objeto
    - [X] Comentar emit para obtenerControlEnfermeria
    - [X] nuevo emit para llamar al metodo hideModal en padre debe recibir resultado e index
    - [X] En hideModal en caso de cancelar, el mismo emit anterior pero objeto nulo
  - [X] modalEpisorrafia [7/7]
    - [X] Agregar propiedades al modal para que no cierre con click afuera sólo al cancelar o cerrar
    - [X] Agregar propiedad en data itemIndex
    - [X] En el metodo abrirModal agregar objeto e indice como param
    - [X] Setear el objeto del modal usando los datos del padre que se enviaron como objeto
    - [X] Comentar emit para obtenerControlEnfermeria
    - [X] nuevo emit para llamar al metodo hideModal en padre debe recibir resultado e index
    - [X] En hideModal en caso de cancelar, el mismo emit anterior pero objeto nulo
- [X] Ventilador Mecánico [24/24]
  - [X] al momento del click abrir modal agregar objeto e indice [19/19]
    - [X] modalDispositivo
    - [X] modalTotNivel
    - [X] modalPrCuff
    - [X] modalModoVentilatorio
    - [X] modalIpapEpap
    - [X] modalFio2Peep
    - [X] modalFpFrPsHz
    - [X] modalPrInsp
    - [X] modalSensFlujo
    - [X] modalAmplitud
    - [X] modalVolCorriente
    - [X] modalPviaAerea
    - [X] modalPplatPmedia
    - [X] modalPresionSoporte
    - [X] modalEtCo2
    - [X] modalVolMinuto
    - [X] modalRelacionIE
    - [X] modalTempHumificador
    - [X] modalAlarmaPresion

  - [X] en llamada a componente agregar emit hideModalCtrlNeo [19/19]
    - [X] modalDispositivo
    - [X] modalTotNivel
    - [X] modalPrCuff
    - [X] modalModoVentilatorio
    - [X] modalIpapEpap
    - [X] modalFio2Peep
    - [X] modalFpFrPsHz
    - [X] modalPrInsp
    - [X] modalSensFlujo
    - [X] modalAmplitud
    - [X] modalVolCorriente
    - [X] modalPviaAerea
    - [X] modalPplatPmedia
    - [X] modalPresionSoporte
    - [X] modalEtCo2
    - [X] modalVolMinuto
    - [X] modalRelacionIE
    - [X] modalTempHumificador
    - [X] modalAlarmaPresion

  - [X] Al metodo openModalControl, agregar objeto en cuestion e indice como param

  - [X] En la ref del compontente agregar objeto e indice [19/19]
    - [X] modalDispositivo
    - [X] modalTotNivel
    - [X] modalPrCuff
    - [X] modalModoVentilatorio
    - [X] modalIpapEpap
    - [X] modalFio2Peep
    - [X] modalFpFrPsHz
    - [X] modalPrInsp
    - [X] modalSensFlujo
    - [X] modalAmplitud
    - [X] modalVolCorriente
    - [X] modalPviaAerea
    - [X] modalPplatPmedia
    - [X] modalPresionSoporte
    - [X] modalEtCo2
    - [X] modalVolMinuto
    - [X] modalRelacionIE
    - [X] modalTempHumificador
    - [X] modalAlarmaPresion

  - [X] En parent setear if si modal = a nombremodal y resultado no nulo, asignar valores al objeto del modal correspondiente [19/19]
    - [X] modalDispositivo
    - [X] modalTotNivel
    - [X] modalPrCuff
    - [X] modalModoVentilatorio
    - [X] modalIpapEpap
    - [X] modalFio2Peep
    - [X] modalFpFrPsHz
    - [X] modalPrInsp
    - [X] modalSensFlujo
    - [X] modalAmplitud
    - [X] modalVolCorriente
    - [X] modalPviaAerea
    - [X] modalPplatPmedia
    - [X] modalPresionSoporte
    - [X] modalEtCo2
    - [X] modalVolMinuto
    - [X] modalRelacionIE
    - [X] modalTempHumificador
    - [X] modalAlarmaPresion

  - [X] modalDispositivo [7/7]
    - [X] Agregar propiedades al modal para que no cierre con click afuera sólo al cancelar o cerrar
    - [X] Agregar propiedad en data itemIndex
    - [X] En el metodo abrirModal agregar objeto e indice como param
    - [X] Setear el objeto del modal usando los datos del padre que se enviaron como objeto
    - [X] Comentar emit para obtenerControlEnfermeria
    - [X] nuevo emit para llamar al metodo hideModal en padre debe recibir resultado e index
    - [X] En hideModal en caso de cancelar, el mismo emit anterior pero objeto nulo
  - [X] modalTotNivel [7/7]
    - [X] Agregar propiedades al modal para que no cierre con click afuera sólo al cancelar o cerrar
    - [X] Agregar propiedad en data itemIndex
    - [X] En el metodo abrirModal agregar objeto e indice como param
    - [X] Setear el objeto del modal usando los datos del padre que se enviaron como objeto
    - [X] Comentar emit para obtenerControlEnfermeria
    - [X] nuevo emit para llamar al metodo hideModal en padre debe recibir resultado e index
    - [X] En hideModal en caso de cancelar, el mismo emit anterior pero objeto nulo
  - [X] modalPrCuff [7/7]
    - [X] Agregar propiedades al modal para que no cierre con click afuera sólo al cancelar o cerrar
    - [X] Agregar propiedad en data itemIndex
    - [X] En el metodo abrirModal agregar objeto e indice como param
    - [X] Setear el objeto del modal usando los datos del padre que se enviaron como objeto
    - [X] Comentar emit para obtenerControlEnfermeria
    - [X] nuevo emit para llamar al metodo hideModal en padre debe recibir resultado e index
    - [X] En hideModal en caso de cancelar, el mismo emit anterior pero objeto nulo
  - [X] modalModoVentilatorio [7/7]
    - [X] Agregar propiedades al modal para que no cierre con click afuera sólo al cancelar o cerrar
    - [X] Agregar propiedad en data itemIndex
    - [X] En el metodo abrirModal agregar objeto e indice como param
    - [X] Setear el objeto del modal usando los datos del padre que se enviaron como objeto
    - [X] Comentar emit para obtenerControlEnfermeria
    - [X] nuevo emit para llamar al metodo hideModal en padre debe recibir resultado e index
    - [X] En hideModal en caso de cancelar, el mismo emit anterior pero objeto nulo
  - [X] modalIpapEpap [7/7]
    - [X] Agregar propiedades al modal para que no cierre con click afuera sólo al cancelar o cerrar
    - [X] Agregar propiedad en data itemIndex
    - [X] En el metodo abrirModal agregar objeto e indice como param
    - [X] Setear el objeto del modal usando los datos del padre que se enviaron como objeto
    - [X] Comentar emit para obtenerControlEnfermeria
    - [X] nuevo emit para llamar al metodo hideModal en padre debe recibir resultado e index
    - [X] En hideModal en caso de cancelar, el mismo emit anterior pero objeto nulo
  - [X] modalFio2Peep [7/7]
    - [X] Agregar propiedades al modal para que no cierre con click afuera sólo al cancelar o cerrar
    - [X] Agregar propiedad en data itemIndex
    - [X] En el metodo abrirModal agregar objeto e indice como param
    - [X] Setear el objeto del modal usando los datos del padre que se enviaron como objeto
    - [X] Comentar emit para obtenerControlEnfermeria
    - [X] nuevo emit para llamar al metodo hideModal en padre debe recibir resultado e index
    - [X] En hideModal en caso de cancelar, el mismo emit anterior pero objeto nulo
  - [X] modalFpFrPsHz [7/7]
    - [X] Agregar propiedades al modal para que no cierre con click afuera sólo al cancelar o cerrar
    - [X] Agregar propiedad en data itemIndex
    - [X] En el metodo abrirModal agregar objeto e indice como param
    - [X] Setear el objeto del modal usando los datos del padre que se enviaron como objeto
    - [X] Comentar emit para obtenerControlEnfermeria
    - [X] nuevo emit para llamar al metodo hideModal en padre debe recibir resultado e index
    - [X] En hideModal en caso de cancelar, el mismo emit anterior pero objeto nulo
  - [X] modalPrInsp [7/7]
    - [X] Agregar propiedades al modal para que no cierre con click afuera sólo al cancelar o cerrar
    - [X] Agregar propiedad en data itemIndex
    - [X] En el metodo abrirModal agregar objeto e indice como param
    - [X] Setear el objeto del modal usando los datos del padre que se enviaron como objeto
    - [X] Comentar emit para obtenerControlEnfermeria
    - [X] nuevo emit para llamar al metodo hideModal en padre debe recibir resultado e index
    - [X] En hideModal en caso de cancelar, el mismo emit anterior pero objeto nulo
  - [X] modalSensFlujo [7/7]
    - [X] Agregar propiedades al modal para que no cierre con click afuera sólo al cancelar o cerrar
    - [X] Agregar propiedad en data itemIndex
    - [X] En el metodo abrirModal agregar objeto e indice como param
    - [X] Setear el objeto del modal usando los datos del padre que se enviaron como objeto
    - [X] Comentar emit para obtenerControlEnfermeria
    - [X] nuevo emit para llamar al metodo hideModal en padre debe recibir resultado e index
    - [X] En hideModal en caso de cancelar, el mismo emit anterior pero objeto nulo
  - [X] modalAmplitud [7/7]
    - [X] Agregar propiedades al modal para que no cierre con click afuera sólo al cancelar o cerrar
    - [X] Agregar propiedad en data itemIndex
    - [X] En el metodo abrirModal agregar objeto e indice como param
    - [X] Setear el objeto del modal usando los datos del padre que se enviaron como objeto
    - [X] Comentar emit para obtenerControlEnfermeria
    - [X] nuevo emit para llamar al metodo hideModal en padre debe recibir resultado e index
    - [X] En hideModal en caso de cancelar, el mismo emit anterior pero objeto nulo
  - [X] modalVolCorriente [7/7]
    - [X] Agregar propiedades al modal para que no cierre con click afuera sólo al cancelar o cerrar
    - [X] Agregar propiedad en data itemIndex
    - [X] En el metodo abrirModal agregar objeto e indice como param
    - [X] Setear el objeto del modal usando los datos del padre que se enviaron como objeto
    - [X] Comentar emit para obtenerControlEnfermeria
    - [X] nuevo emit para llamar al metodo hideModal en padre debe recibir resultado e index
    - [X] En hideModal en caso de cancelar, el mismo emit anterior pero objeto nulo
  - [X] modalPviaAerea [7/7]
    - [X] Agregar propiedades al modal para que no cierre con click afuera sólo al cancelar o cerrar
    - [X] Agregar propiedad en data itemIndex
    - [X] En el metodo abrirModal agregar objeto e indice como param
    - [X] Setear el objeto del modal usando los datos del padre que se enviaron como objeto
    - [X] Comentar emit para obtenerControlEnfermeria
    - [X] nuevo emit para llamar al metodo hideModal en padre debe recibir resultado e index
    - [X] En hideModal en caso de cancelar, el mismo emit anterior pero objeto nulo
  - [X] modalPplatPmedia [7/7]
    - [X] Agregar propiedades al modal para que no cierre con click afuera sólo al cancelar o cerrar
    - [X] Agregar propiedad en data itemIndex
    - [X] En el metodo abrirModal agregar objeto e indice como param
    - [X] Setear el objeto del modal usando los datos del padre que se enviaron como objeto
    - [X] Comentar emit para obtenerControlEnfermeria
    - [X] nuevo emit para llamar al metodo hideModal en padre debe recibir resultado e index
    - [X] En hideModal en caso de cancelar, el mismo emit anterior pero objeto nulo
  - [X] modalPresionSoporte [7/7]
    - [X] Agregar propiedades al modal para que no cierre con click afuera sólo al cancelar o cerrar
    - [X] Agregar propiedad en data itemIndex
    - [X] En el metodo abrirModal agregar objeto e indice como param
    - [X] Setear el objeto del modal usando los datos del padre que se enviaron como objeto
    - [X] Comentar emit para obtenerControlEnfermeria
    - [X] nuevo emit para llamar al metodo hideModal en padre debe recibir resultado e index
    - [X] En hideModal en caso de cancelar, el mismo emit anterior pero objeto nulo
  - [X] modalEtCo2 [7/7]
    - [X] Agregar propiedades al modal para que no cierre con click afuera sólo al cancelar o cerrar
    - [X] Agregar propiedad en data itemIndex
    - [X] En el metodo abrirModal agregar objeto e indice como param
    - [X] Setear el objeto del modal usando los datos del padre que se enviaron como objeto
    - [X] Comentar emit para obtenerControlEnfermeria
    - [X] nuevo emit para llamar al metodo hideModal en padre debe recibir resultado e index
    - [X] En hideModal en caso de cancelar, el mismo emit anterior pero objeto nulo
  - [X] modalVolMinuto [7/7]
    - [X] Agregar propiedades al modal para que no cierre con click afuera sólo al cancelar o cerrar
    - [X] Agregar propiedad en data itemIndex
    - [X] En el metodo abrirModal agregar objeto e indice como param
    - [X] Setear el objeto del modal usando los datos del padre que se enviaron como objeto
    - [X] Comentar emit para obtenerControlEnfermeria
    - [X] nuevo emit para llamar al metodo hideModal en padre debe recibir resultado e index
    - [X] En hideModal en caso de cancelar, el mismo emit anterior pero objeto nulo
  - [X] modalRelacionIE [7/7]
    - [X] Agregar propiedades al modal para que no cierre con click afuera sólo al cancelar o cerrar
    - [X] Agregar propiedad en data itemIndex
    - [X] En el metodo abrirModal agregar objeto e indice como param
    - [X] Setear el objeto del modal usando los datos del padre que se enviaron como objeto
    - [X] Comentar emit para obtenerControlEnfermeria
    - [X] nuevo emit para llamar al metodo hideModal en padre debe recibir resultado e index
    - [X] En hideModal en caso de cancelar, el mismo emit anterior pero objeto nulo
  - [X] modalTempHumificador [7/7]
    - [X] Agregar propiedades al modal para que no cierre con click afuera sólo al cancelar o cerrar
    - [X] Agregar propiedad en data itemIndex
    - [X] En el metodo abrirModal agregar objeto e indice como param
    - [X] Setear el objeto del modal usando los datos del padre que se enviaron como objeto
    - [X] Comentar emit para obtenerControlEnfermeria
    - [X] nuevo emit para llamar al metodo hideModal en padre debe recibir resultado e index
    - [X] En hideModal en caso de cancelar, el mismo emit anterior pero objeto nulo
  - [X] modalAlarmaPresion [7/7]
    - [X] Agregar propiedades al modal para que no cierre con click afuera sólo al cancelar o cerrar
    - [X] Agregar propiedad en data itemIndex
    - [X] En el metodo abrirModal agregar objeto e indice como param
    - [X] Setear el objeto del modal usando los datos del padre que se enviaron como objeto
    - [X] Comentar emit para obtenerControlEnfermeria
    - [X] nuevo emit para llamar al metodo hideModal en padre debe recibir resultado e index
    - [X] En hideModal en caso de cancelar, el mismo emit anterior pero objeto nulo

<2023-11-13 Mon>  Terimno
*** Camibos realizados
- WEB
  - clinica
    - control-puerperio.vue M
      - modalMamas.vue M
      - modalPresenciaCalostro.vue M
      - modalRetraccionUterina.vue M
      - modalLoquios.vue M
      - modalEpisorrafia.vue M
    - ventilador-mecanico.vue M
      - modalDispositivo.vue M
      - modalTotNivel.vue M
      - modalPrCuff.vue M
      - modalModoVentilatorio.vue M
      - modalIpapEpap.vue M
      - modalFio2Peep.vue M
      - modalFpFrPsHz.vue M
      - modalPrInsp.vue M
      - modalSensFlujo.vue M
      - modalAmplitud.vue M
      - modalVolCorriente.vue M
      - modalPviaAerea.vue M
      - modalPplatPmedia.vue M
      - modalPresionSoporte.vue M
      - modalEtCo2.vue M
      - modalVolMinuto.vue M
      - modalRelacionIE.vue M
      - modalTempHumificador.vue M
      - modalAlarmaPresion.vue M
- GIT
  - clinica
    - feature-mejoras-usuario-bh M
** TODO Implementar Jenkins [0/0]
- Fase de pruebas
  - [ ] Abrir coneccion con ngrok desde wsl conectado por ssh
    #+begin_src bash
    ngrok http 192.168.1.81:8080
    #+end_src
  - [ ] copiar tunel y setearlo en webhook de git app
  - [ ] Conectar agent de windows
- Pasos para habilitar
  - Instalar jenkins
  - crear agent, conectarlo
  - cerar job multibranch, conectar con credenciales app id y secret
  - deifinir jenkinfile en repo
  - done

** TODO Requerimiento modificaciones clinica [3/5]
*** TODO Indicar medicamentos medico clinica en registro-medico [0/2]
- [ ] Habilitar parámetro veces en indicacion medicamento monofarmaco
  - ver que significa habilitarlo, si afecta query o sp
  - Tabla HCH_ADMINISTRACION_MEDICAMENTO
- [ ] Agregar campo SOS en solución, tomar de ejemplo en monoFarmaco
  - Tabla HC_ADMINISTRACION_SOLUCION
    - nuevo campo SOS HAS_SOS char(1)
  - Tabla HC_ADM_SOLUCION_DET

*** DONE Agregar boton IEEH en epicrisis medico [2/2]
- [X] sacar botón de admision hospitalaria, tomar funcionalidad IEEH
  - Boton se aplica en componente epicrisis.vue
  - alta debe estar cerrada para proceder
- [X] Cambiar texto motivo de alta a Destino de Alta
*** TODO Agregar item peso y oxigeno en ciclo vital enfermera [0/2]
- [ ] agregar peso
  - con decimal y en kg
- [ ] agregar oxigeno
  - numero
!! CONSULTAR POR OBTENER CICLO VITAL NO TRAE DATOS PERO SI SE GUARDAN
*** DONE Ingreso Enfermeria agregar talla al lado de peso [3/3]
- [X] Agregar valor a obj en vue
- [X] Nueva propiedad HieAiTalla en DTO
- [X] Nueva col HIE_AI_TALLA en HCH_INGRESO_ENFERMERIA
*** DONE Ingreso Enfermeria Higuene ya no campo obligatorio [1/1]
- [X] Sacar del validator
*** Cambios Realizados
- WEB
- API
- DB
- GIT
  - feature-cambios-enf-med
